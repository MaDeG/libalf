\chapter{Filters \& Normalizers}
A knowledgebase can be associated with \textbf{filters} which can exploit domain specific properties and by that actively reduce the number of queries to the teacher during the learning phase. Such filters can be composed by logical connectors (and, or, not). \\
In contrast, \textbf{Normalizers} recognize equivalent words in a domain-specific sense to reduce the amount of knowledge that has to be stored. \\
Both components can be serialized and deserialized.

\section{Filters}

A knowledgebase can be associated with more than one filter through the logical connectors. It is organized in a class called \texttt{filter}.

\subsection{Class - filter}
It is the main class that defines the types of filter.

\subsection*{Attributes - filter types}
An \emph{enum} type variable \texttt{type} is used to define the filter type.
\begin{itemize}
 \item \textbf{FILTER\_NONE = 0} ; No filter associated
 \item \textbf{FILTER\_AND = 1} ; Filter type \emph{and}
 \item \textbf{FILTER\_OR = 2} ; Filter type \emph{or}
 \item \textbf{FILTER\_NOT = 3} ; Filter type \emph{not}
 \item \textbf{FILTER\_ALL\_EQUAL = 4} ; Filter type for equal words
 \item \textbf{FILTER\_REVERSE = 100} ; Filter type handling reverse of a word.
 \item \textbf{FILTER\_IDENTITY = 200} ; Identity filter **
\end{itemize}

\subsection{Class - filter\_subfilter\_array}
The subfilter is an array of filters that is used to associate more than one filter to the knowledgebae. The class inherits the filter class.
\subsection*{Attributes}
\begin{itemize}
 \item \textbf{list$<$filter$<$answer$>$*$>$ subfilter\_array} \\
	A list of all the subfilters associated with the knowledgebase.
\end{itemize}
\subsection*{Methods}
\begin{itemize}
 \item \textbf{virtual void free\_all\_subfilter()} \\
	The method to erase all subfilters.
 \item \textbf{virtual void add(filter$<$answer$>$ *f)} \\
	Method to add a filter into the array.
 \item \textbf{virtual void remove(filter$<$answer$>$ *f)} \\
	Method to remove a filter from the array.
\end{itemize}

\subsection{Important Methods of all Filters}

All the filters (including the logical connectors) are associated with the following important methods that execute its feature.

\begin{enumerate}
 
\item \textbf{filter::void free\_all\_subfilter()} \\
	Method to erase all the subfilters (logical connectors) associated with the knowledgebase.
 \item \textbf{filter::virtual enum type get\_type()} \\
	The method returns the type of filter. 
 \item \textbf{filter::virtual bool evaluate(knowledgebase$<$answer$>$ \& base, list$<$int$>$ \& word, answer \& result)} \\
	The main method to evaluate the word with the associated filter. It returns \true if the word was evaluated successfuly and the answer is stored in the parameter \texttt{result}. It returns \false otherwsie.
\end{enumerate}


\subsection{Types of Filters}
\begin{enumerate}
 
\item \textbf{filter\_and} \\
It is the logical connector \texttt{and} that can be associated with any two filters. The \texttt{evaluate} method returns \true only if the answer of the word can be determined by both the associated filters and the answer obtained is the same.

\item \textbf{filter\_or}  \\
It is the logical connector \texttt{or} that can be associated with any two filters. It returns \true if the word if at least one of the filters provide an answer for the word.

\item \textbf{filter\_not} \\
It is the logical connector \texttt{not} that can be associated with a filter. It returns \true if the word was answered by the filter and sets the \texttt{result} to the \texttt{not} of the derived answer.

\item \textbf{filter\_all\_equal} \\
Filter to check if the result is the same in all filters. Returns \true if the subfilter array is non-empty, and if all filters can evaluate a word and produce the same answer. 

\item \textbf{filter\_reverse} \\
The filter reverses the word and sends to all subfilters. Returns \true if the reversed word can be evaluated by the subfilters and the answer is stored to the \texttt{result}.

\item \textbf{filter\_identity} \\
This is a filter that tries to identify if the answer to the word is already available in the knowledgebase. It returns \true if it exists and is answered already (after setting the answer to \texttt{result}), \false otherwise.

\end{enumerate}


